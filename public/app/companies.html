<div>
    <ul class="list-group">
        <li class="list-group-item" ng-repeat="company in companies">
        <div ng-controller='CollapseCtrl'>
            <button class="btn btn-default" style="margin-right: 20px" ng-click="edit(company);">edit</button>
            <a href ng-click="isCollapsed = !isCollapsed">{{company.name}}</a>
            <div collapse="isCollapsed">
                VAT: {{company.vat}}
            </div>
        </div>
        </li>
    </ul>
    <button class="btn" ng-click="create()">create new</button>
</div>

<!-- Template for create and edit -->
<script id="editcompany.html" type="text/ng-template">
    <div class="modal-header">
        <h3>Edit company</h3> 
    </div>
    
    <div class="alert alert-warning" ng-show="validationerrors.length > 0">
        <ul class="list-unstyled">
            <li ng-repeat="error in validationerrors">
                {{error}}
            </li>
        </ul>
    </div>

    <form role='form' name="editform" novalidate class=form-horizontal">
        <div class="modal-body">
            <div class="form-group">
                <label for="name">Company Name</label>    
                <input type="text" name="name" class="form-control" placeholder="name" ng-model="company.name" required />
                <div class="error" ng-show="(editform.name.$dirty || submitted) && editform.name.$invalid">
                    <small class="error" ng-show="editform.name.$error.required">
                        Please specify the companies&apos; name
                    </small>
                </div>
            </div>
            <div class="form-group">
                <label for="vat">VAT</label>
                <input class="form-control" name="vat" type="text" placeholder="vat" ng-model="company.vat" required />
                 <div class="error" ng-show="(editform.vat.$dirty || submitted) && editform.vat.$invalid">
                    <small class="error" ng-show="editform.vat.$error.required">
                        Please specify the companies&apos; VAT number
                    </small>
                </div>
            </div>
        <button class="btn btn-primary" ng-click="ok()" ng-disabled="editform.$invalid">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </form>
</script>
